<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">

	<resultMap type="Notice" id="resultNotice">
		<id column="NOTICE_NO" property="noticeNo" />
		<result column="NOTICE_WRITER" property="noticeWriter" />
		<result column="NOTICE_TITLE" property="noticeTitle" />
		<result column="NOTICE_CONTENT" property="noticeContent" />
		<result column="NOTICE_DATE" property="noticeDate" />
		<result column="NOTICE_READCOUNT" property="noticeReadcount" />
		<result column="NOTICE_STATE" property="noticeState" />
		<result column="NOTICE_ORIGINAL_FILENAME1" property="noticeOriginalFilename1" />
		<result column="NOTICE_RENAME_FILENAME1" property="noticeRenameFilename1" />
		<result column="NOTICE_ORIGINAL_FILENAME2" property="noticeOriginalFilename2" />
		<result column="NOTICE_RENAME_FILENAME2" property="noticeRenameFilename2" />
		<result column="NOTICE_ORIGINAL_FILENAME3" property="noticeOriginalFilename3" />
		<result column="NOTICE_RENAME_FILENAME3" property="noticeRenameFilename3" />
	</resultMap>

	
	<select id="selectList" resultMap="resultNotice" parameterType="com.kh.runningdog.notice.model.vo.NoticePage">
		<![CDATA[
			SELECT * 
			FROM (SELECT ROWNUM RNUM, NOTICE_NO, NOTICE_WRITER, NOTICE_TITLE, NOTICE_CONTENT, NOTICE_DATE, NOTICE_READCOUNT, NOTICE_STATE, NOTICE_ORIGINAL_FILENAME1, NOTICE_RENAME_FILENAME1,  
					NOTICE_ORIGINAL_FILENAME2, NOTICE_RENAME_FILENAME2, NOTICE_ORIGINAL_FILENAME3, NOTICE_RENAME_FILENAME3
			  FROM (select * from notice order by notice_state nulls last, notice_date desc)) 
			  WHERE RNUM >= #{startRow} AND RNUM <= #{endRow}
		]]>		  
	</select>
	
	
	<select id="getListCount" resultType="_int">
		select count(*) from notice
	</select>

</mapper>
